{"version":3,"sources":["components/navbar/navbar.js","components/stars/stars.js","components/storeContent/product/product.js","components/storeContent/sidefilters/sidefilters.js","components/storeContent/storeContent.js","pages/home/home.js","aes.js","utils.js","pages/signin/signin.js","pages/register/register.js","pages/profile/profile.js","store/rootStore.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","state","filters","setFilters","useState","color","setColor","history","useHistory","on_search","push","pathname","search","dummy_search","prevFilters","search_value","className","onClick","free_shipping_check","climate_check","price_min","price_max","dummy_min","dummy_max","is_used","is_new","show_out_stock","rank_limit","category","subCategory","brands","page","sort","alt","src","height","width","location","style","border","value","onChange","e","department","target","categories","map","i","name","type","onKeyDown","key","onFocus","onBlur","console","log","undefined","user","id","Stars","rank","stars","Math","floor","render_stars","Product","product","img","reviews","length","price","currency","free_shipping","observer","categoriesRows","brandsRows","showAllCategories","showAllBrands","rows","setRows","useEffect","cat_rows","brand_rows","prevState","calc_total_rows","count","forEach","sub_categories","handleShippingChange","handleClimateChange","setCategory","set_rank_limit","handleBrandsChange","brand","new_brands","some","b","filter","set_price_limit","min","max","dum_min","dum_max","setUsedCondition","isUsed","isNew","handleShowOutstockChange","toggleDepatments","numOfrows","toggleBrands","checked","htmlFor","categoryName","subCategoryName","find","cat","subName","subs","j","sub","render_department","c","ind","render_categories","render_brands","placeholder","goToPage","numOfPages","products","page_btns","end","start","render_pagination","store","setState","useLocation","updateProducts","productsStore","getPreviewProducts","maxNumOfItems","ceil","preview_products","departments","getDepartments","getBrands","substring","split","q","qdata","prevFilter","window","scrollTo","aes256","require","secret_key","to_Encrypt","text","encrypt","to_Decrypt","cipher","decrypt","validateEmail","email","match","SigninPage","btnTxt","psw","error","msg","data","setData","logError","code","handlePswChange","trim","disabled","usersStore","isEmailExists","auth","authUser","RegisterPage","username","re_psw","createUser","psw_hash","re_psw_hash","ProfilePage","old_psw","msgStyle","logMsg","prevData","setTimeout","updateName","updateEmail","updatePsw","UsersStore","rootStore","users","this","makeAutoObservable","action","getUser","userIndexAtId","findIndex","new_psw","user_data","u","cart","uid","ProductsStore","observable","totalProducts","computed","storeDetails","createProduct","updateProduct","deleteProduct","logStoreDetails","searchProduct","climate_friendly","used","stock","new_departments","d","new_sub_categories","sub2","indexOf","currentIndex","preview","p","productFiltersCheck","sortProducts","endIndex","slice","a","Date","date","toLowerCase","productId","update","productIndexAtId","splice","RootStore","App","count_1","count_2","count_3","count_4","count_5","review","calc_rank","exact","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9811c51.chunk.js","sourcesContent":["import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './navbar.scss';\r\n\r\n\r\nconst NavBar = ({ state, filters, setFilters }) => {\r\n    /* ----- State ------ */\r\n    const [color, setColor] = useState(\"#131921\");\r\n    /* ----- Navigation ----- */\r\n    let history = useHistory();\r\n    const goToHome = () => {\r\n        // reset filters\r\n        setFilters({\r\n            free_shipping_check: false,\r\n            climate_check: false,\r\n            price_min:-1,\r\n            price_max:-1,\r\n            dummy_min:0,\r\n            dummy_max:0,\r\n            is_used:false,\r\n            is_new:false,\r\n            show_out_stock:false,\r\n            rank_limit: 0,\r\n            category:'',\r\n            subCategory:'',\r\n            brands:[],\r\n            page: 1,\r\n            sort:0,\r\n            dummy_search:'',\r\n            search_value: '',\r\n        });\r\n        history.push({pathname:'/'});\r\n    }\r\n    const goToUser = () => {\r\n        console.log(state);\r\n        if(state.user === undefined) history.push('/signin');\r\n        else history.push({\r\n            pathname:'/profile/:'+ state.user.id,\r\n        });\r\n    }\r\n    /* ----- UI Functions ----- */\r\n    \r\n    const on_search = () => {\r\n        history.push({\r\n            pathname:'/search',\r\n            search: '?query=' + filters.dummy_search,\r\n        });\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            search_value: filters.dummy_search,\r\n        }));\r\n    }\r\n    const setSearch = (value) => {\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            dummy_search: value,\r\n        }));\r\n    }\r\n    const handleDepartmentChange = (e) => {\r\n        let department = e.target.value;\r\n        if(department === 'All') department = '';\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            category: department,\r\n        }));\r\n    }\r\n    /* ----- Render ------ */\r\n    const render_categories = () => {\r\n        return state.categories.map( (category, i) => {\r\n            return(\r\n                <option key={i}>{category.name}</option>\r\n            )\r\n        });\r\n    }\r\n\r\n    return(\r\n        <div className=\"navigation-bar\">\r\n            <div className='navbar'>\r\n                <div className='nav-item store-logo' onClick={goToHome}>\r\n                    <span>Logo</span>\r\n                </div>\r\n                <div className='nav-item location'>\r\n                    <div className='location-icon'>\r\n                        <img alt='pin' src='./images/pin.png' height='18' width='18'/>\r\n                    </div>\r\n                    <div className=\"location-txt\">\r\n                        <span>Deliver to</span>\r\n                        <span className='span-bold'>{state.location}</span>\r\n                    </div>  \r\n                </div>\r\n                <div className='search' style={{border: \"3px solid \"+ color}}>\r\n                    <div className='search-category'>\r\n                        <select className='category-select' value={filters.category} onChange={handleDepartmentChange}>\r\n                            <option value=''>All</option>\r\n                            {render_categories()}\r\n                        </select>\r\n                    </div>\r\n                    <div className='search-input'>\r\n                        <input className='nav-input' type=\"text\" value={filters.dummy_search} onKeyDown={(e) => e.key === 'Enter' ? on_search() : null} onFocus={() => setColor('#febd69')} onBlur={() => setColor('#131921')} onChange={(e) => setSearch(e.target.value)}/>\r\n                    </div>\r\n                    <div className='search-btn'>\r\n                        <button type='button' onClick={on_search} className='searchBtn'><img alt='search' src='./images/search.png' height='15' width='15' /></button>\r\n                    </div>\r\n                </div>\r\n                <div className='nav-item language'>\r\n                    <img alt='IL' src='./images/il.png' height='25' width='25' />\r\n                </div>\r\n                <div className='nav-item signin' onClick={goToUser}>\r\n                    {\r\n                        state.user !== undefined ? \r\n                            <span>Hello, {state.user.name}</span>\r\n                        :\r\n                            <span>Hello, Sign in</span>\r\n                    }\r\n                    <span className='span-bold'>Account & Lists</span>\r\n                </div>\r\n                <div className='nav-item orders'>\r\n                    <span>Returns</span>\r\n                    <span className='span-bold'>& Orders</span>\r\n                </div>\r\n                <div className='nav-item cart'>\r\n                    <div className='cart-icon'>\r\n                        <span>0</span>\r\n                        <img alt='' src='./images/cart.png' height='20' width='20' />\r\n                    </div>\r\n                    <div className='cart-txt'>\r\n                        <span className='span-bold'>Cart</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='sub-navbar'>\r\n                <div>\r\n                    <img alt=\"\" src=\"./images/menu.png\" height='15' width='15' />\r\n                    All\r\n                </div>\r\n                <div>\r\n                    Today's Deals\r\n                </div>\r\n                <div>\r\n                    Customer Service\r\n                </div>\r\n                <div>\r\n                    Registry\r\n                </div>\r\n                <div>\r\n                    Gift Cards\r\n                </div>\r\n                <div>\r\n                    Sell\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default NavBar","import React from 'react';\r\nimport './stars.scss';\r\n\r\nconst Stars = ({ rank }) => {\r\n    /* ----- Render ------ */\r\n    const render_stars = () => {\r\n        let i = 0;\r\n        let stars = [];\r\n        for(; i < Math.floor(rank) && i < 5; i++) {\r\n            stars.push(\r\n                <img key={i} alt='' src='./images/star-full.png' />\r\n            ) \r\n        }\r\n        if (rank % 1 !== 0 && i < 5) {\r\n            // case rank is float\r\n            stars.push(\r\n                <img key={i} alt='' src='./images/star-half.png' />\r\n            ) \r\n            i++;\r\n        }\r\n        for(; i < 5; i++) {\r\n            stars.push(\r\n                <img key={i} alt='' src='./images/star-empty.png' />\r\n            ) \r\n        }\r\n        return(stars);\r\n    }\r\n\r\n    return(\r\n        <div className='stars'>\r\n            <div className='stars-rank'>\r\n                {render_stars()}\r\n            </div>\r\n            <div className='stars-pop'>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Stars;","import React from 'react';\r\nimport './product.scss';\r\nimport Stars from '../../stars/stars';\r\n\r\nconst Product = ({ state, product }) => {\r\n    return(\r\n        <div className='product'>\r\n            <div className='img'>\r\n                <img alt='' src={product.img}  />\r\n            </div>\r\n            <div className='product-name'>\r\n                <span>{product.name}</span>\r\n            </div>\r\n            <div className='rating'>\r\n                <Stars rank={product.rank} />\r\n                <span>{product.reviews.length}</span>\r\n            </div>\r\n            <div className='price'>\r\n                <span>{product.price} {state.currency}</span>\r\n            </div>\r\n            <div className='shipping'>\r\n                {product.free_shipping ? \r\n                    <span><b>FREE Shipping</b> to {state.location}</span>\r\n                :\r\n                    <span>Ships to {state.location}</span>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product","import { useState, useEffect } from 'react';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Stars from '../../stars/stars';\r\nimport './sideFilters.scss';\r\n\r\nconst SideFilters = ({ state, filters, setFilters }) => {\r\n    const [rows, setRows] = useState({\r\n        categoriesRows: 0,\r\n        brandsRows: 0,\r\n        showAllCategories:false,\r\n        showAllBrands:false,\r\n    });\r\n\r\n    useEffect(() => {\r\n        let cat_rows = 10, brand_rows = 7;\r\n        if((state.categories.length < cat_rows) || rows.showAllCategories) {\r\n            cat_rows = state.categories.length;\r\n        } \r\n        if((state.brands.length < brand_rows) || rows.showAllBrands) {\r\n            brand_rows = state.brands.length;\r\n        }\r\n        setRows(prevState => ({\r\n            ...prevState,\r\n            categoriesRows: cat_rows,\r\n            brandsRows: brand_rows,\r\n        }));\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[state]);\r\n\r\n    const calc_total_rows = () => {\r\n        let count = 0;\r\n        state.categories.forEach(category => {\r\n            count += category.sub_categories.length + 1;\r\n        });\r\n        return count;\r\n    }\r\n    /* ----- UI Functions ----- */\r\n    const handleShippingChange = () => {\r\n        /* called on shipping checkbox change */\r\n        // filter products\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            free_shipping_check: !filters.free_shipping_check,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const handleClimateChange = () => {\r\n        /* called on climate checkbox change */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            climate_check: !filters.climate_check,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const setCategory = (category, subCategory='') => {\r\n        /* called on department press */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            category:category,\r\n            subCategory:subCategory,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const set_rank_limit = (rank) => {\r\n        /* called on rank limit button press */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            rank_limit: rank,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const handleBrandsChange = (brand) => {\r\n        /* called on brand change */\r\n        let new_brands = [...filters.brands, brand];\r\n        if(filters.brands.some((b) => b === brand)) {\r\n            // remove brand\r\n            new_brands = filters.brands.filter((b) => { return b !== brand })\r\n        }\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            brands: new_brands,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const clear_brands = () => {\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            brands: [],\r\n            page: 1,\r\n        }));\r\n    }\r\n\r\n    const set_price_limit = (min, max=0) => {\r\n        /* called on price limit button press */\r\n        let dum_min = filters.dummy_min, dum_max = filters.dummy_max;\r\n        if(min === 0 || min === -1) dum_min = dum_max = 0;\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            dummy_min:dum_min,\r\n            dummy_max:dum_max,\r\n            price_min:min,\r\n            price_max:max,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const setMin = (value) => {\r\n        /* called on min price change */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            dummy_min:value,\r\n        }));\r\n    }\r\n    const setMax = (value) => {\r\n        /* called on max price change */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            dummy_max:value,\r\n        }));\r\n    }\r\n    const setUsedCondition = (isUsed, isNew) => {\r\n        /* called on condition checkbox change */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            is_used:isUsed,\r\n            is_new:isNew,\r\n            page: 1,\r\n        }));\r\n    }\r\n    const handleShowOutstockChange = () => {\r\n        /* called on show out of stock checkbox change */\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            show_out_stock: !filters.show_out_stock,\r\n            page: 1,\r\n        }));\r\n    }\r\n\r\n    const toggleDepatments = () => {\r\n        /* called on see more departments press */\r\n        let numOfrows = 10;\r\n        if(!rows.showAllCategories) {\r\n            numOfrows = state.categories.length;\r\n        }\r\n        setRows(prevState => ({\r\n            ...prevState,\r\n            categoriesRows: numOfrows,\r\n            showAllCategories: !rows.showAllCategories,\r\n        }));\r\n    }\r\n\r\n    const toggleBrands = () => {\r\n        /* called on see more brands press */\r\n        let numOfrows = 7;\r\n        if(!rows.showAllBrands) {\r\n            numOfrows = state.brands.length;\r\n        }\r\n        setRows(prevState => ({\r\n            ...prevState,\r\n            brandsRows: numOfrows,\r\n            showAllBrands: !rows.showAllBrands,\r\n        }));\r\n    }\r\n\r\n    /* ----- Render ------ */\r\n    const render_categories = () => {\r\n        let department = [];\r\n        let count = 0;\r\n        for(let i = 0; i < rows.categoriesRows; i++){\r\n            if(count >= rows.categoriesRows && !rows.showAllCategories) break;\r\n            const category = state.categories[i];\r\n            count += 1;\r\n            department.push(\r\n                <div key={i}>\r\n                    <div className='ui-btn' onClick={()=>setCategory(category.name)}><span>{category.name}</span></div>\r\n                    {\r\n                        // render sub categories\r\n                        ((c) => {\r\n                            let subs = [];\r\n                            let ind = c;\r\n                            for(let j=0;j<category.sub_categories.length;j++) {\r\n                                const sub = category.sub_categories[j];\r\n                                \r\n                                subs.push(\r\n                                    <div key={j} onClick={()=>setCategory(category.name, sub)} className='ui-sub-btn'>\r\n                                        <span>{sub}</span>\r\n                                    </div>\r\n                                )\r\n                                if(!rows.showAllCategories) {\r\n                                    ind++;\r\n                                    if(ind >= rows.categoriesRows) break;\r\n                                }\r\n                            }\r\n                            return(subs);\r\n                        })(count)\r\n                    }\r\n                </div>\r\n            )\r\n            count += category.sub_categories.length;\r\n        }\r\n        if(state.categories.length > rows.categoriesRows) {\r\n            department.push(\r\n                <div key={count}>\r\n                    <div className='ui-btn-toggle' onClick={toggleDepatments}><span>See All {calc_total_rows()} Departments</span></div>\r\n                </div>\r\n            )\r\n        } else if(state.categories.length === rows.categoriesRows) {\r\n            department.push(\r\n                <div key={count}>\r\n                    <div className='ui-btn-toggle' onClick={toggleDepatments}><span>See Fewer Departments</span></div>\r\n                </div>\r\n            )\r\n        }\r\n        return(department);\r\n    }\r\n    \r\n    const render_department = (categoryName, subCategoryName='') => {\r\n        const category = state.categories.find((cat) => cat.name === categoryName);\r\n        return(\r\n            <div>\r\n                <div className={subCategoryName === '' ? 'ui-btn ui-btn-active' : 'ui-btn'} onClick={()=>setCategory(category.name)}><span>{category.name}</span></div>\r\n                    {\r\n                        // render sub categories\r\n                        ((subName) => {\r\n                            let subs = [];\r\n                            for(let j=0;j<category.sub_categories.length;j++) {\r\n                                const sub = category.sub_categories[j];\r\n                                subs.push(\r\n                                    <div key={j} onClick={()=>setCategory(category.name, sub)} className={sub === subName ? 'ui-sub-btn ui-btn-active': 'ui-sub-btn'}>\r\n                                        <span>{sub}</span>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            return(subs);\r\n                        })(subCategoryName)\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n\r\n    const render_brands = () => {\r\n        let brands = [];\r\n        let count = 0;\r\n        for(let i = 0; i < rows.brandsRows; i++){\r\n            if(count >= rows.brandsRows && !rows.showAllBrands) break;\r\n            const brand = state.brands[i];\r\n            brands.push(\r\n                <div key={i} className='brand'>\r\n                    <input name='brand' type='checkbox' checked={filters.brands.some((b) => b === brand)} onChange={() => handleBrandsChange(brand)}/>\r\n                    <label htmlFor=\"brand\" className={filters.brands.some((b) => b === brand) ? 'ui-btn-active' : ''} onClick={() => handleBrandsChange(brand)}>{brand}</label>\r\n                </div>\r\n            )\r\n            count+=1;\r\n        };\r\n        if(state.brands.length > rows.brandsRows) {\r\n            brands.push(\r\n                <div key={count}>\r\n                    <div className='ui-btn-toggle' onClick={toggleBrands}><span>See More</span></div>\r\n                </div>\r\n            )\r\n        } else if(state.brands.length === rows.brandsRows) {\r\n            brands.push(\r\n                <div key={count}>\r\n                    <div className='ui-btn-toggle' onClick={toggleBrands}><span>See Less</span></div>\r\n                </div>\r\n            )\r\n        }\r\n        return(brands);\r\n    }\r\n\r\n    return(\r\n        <div className='side-filters'>\r\n            <div className='side-section'>\r\n                <h4>Free Shipping</h4>\r\n                <input name='shipping' type='checkbox' checked={filters.free_shipping_check} onChange={handleShippingChange}/>\r\n                <label htmlFor=\"shipping\" className={filters.free_shipping_check ? 'ui-btn-active':''} onClick={handleShippingChange}>Eligible for Free Shipping</label>\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Climate Pledge Friendly</h4>\r\n                <input name='climate' type='checkbox' checked={filters.climate_check} onChange={handleClimateChange}/>\r\n                <label htmlFor=\"climate\" className={filters.climate_check ? 'ui-btn-active':''} onClick={handleClimateChange}>Climate Pledge Friendly</label>\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Department</h4>\r\n                {\r\n                    (filters.category !== '' || filters.subCategory !== '') && \r\n                    <div>\r\n                        <div className=\"ui-btn\" onClick={()=>setCategory('')}><img alt='' src='./images/left.png' height='14' width='14' /><span>Any Department</span></div>\r\n                    </div>\r\n                }\r\n                {filters.category !== '' || filters.subCategory !== '' ? \r\n                    render_department(filters.category, filters.subCategory) \r\n                :  \r\n                    render_categories()\r\n                }\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Customer Reviews</h4>\r\n                {\r\n                    filters.rank_limit !== 0  && \r\n                    <div>\r\n                        <div className=\"ui-btn\" onClick={()=>set_rank_limit(0)}><img alt='' src='./images/left.png' height='14' width='14' /><span>Clear</span></div>\r\n                    </div>\r\n                }\r\n                <div className='review-btn' onClick={()=>set_rank_limit(4)}>\r\n                    <Stars rank='4' />\r\n                    <span className={filters.rank_limit === 4 ? 'ui-btn-active':''}> & Up </span>\r\n                </div>\r\n                <div className='review-btn' onClick={()=>set_rank_limit(3)}>\r\n                    <Stars rank='3' />\r\n                    <span className={filters.rank_limit === 3 ? 'ui-btn-active':''}> & Up </span>\r\n                </div>\r\n                <div className='review-btn' onClick={()=>set_rank_limit(2)}>\r\n                    <Stars rank='2' />\r\n                    <span className={filters.rank_limit === 2 ? 'ui-btn-active':''}> & Up </span>\r\n                </div>\r\n                <div className='review-btn' onClick={()=>set_rank_limit(1)}>\r\n                    <Stars rank='1' />\r\n                    <span className={filters.rank_limit === 1 ? 'ui-btn-active':''}> & Up </span>\r\n                </div>\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Brand</h4>\r\n                {\r\n                    filters.brands.length !== 0  && \r\n                    <div>\r\n                        <div className=\"ui-btn\" onClick={clear_brands}><img alt='' src='./images/left.png' height='14' width='14' /><span>Clear</span></div>\r\n                    </div>\r\n                }\r\n                {render_brands()}\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Price</h4>\r\n                {\r\n                    filters.price_min !== -1  &&  filters.price_max !== -1 &&\r\n                    <div>\r\n                        <div className=\"ui-btn\" onClick={() => set_price_limit(-1, -1)}><img alt='' src='./images/left.png' height='14' width='14' /><span>Clear</span></div>\r\n                    </div>\r\n                }\r\n                <div className={filters.price_min === 0 && filters.price_max === 25 ? 'ui-btn ui-btn-active':'ui-btn'} onClick={() => set_price_limit(0, 25)}>\r\n                    <span>Up to $25</span>\r\n                </div>\r\n                <div className={filters.price_min === 25 && filters.price_max === 50 ? 'ui-btn ui-btn-active':'ui-btn'}  onClick={() => set_price_limit(25, 50)}>\r\n                    <span>$25 to $50</span>\r\n                </div>\r\n                <div className={filters.price_min === 50 && filters.price_max === 100 ? 'ui-btn ui-btn-active':'ui-btn'}  onClick={() => set_price_limit(50, 100)}>\r\n                    <span>$50 to $100</span>\r\n                </div>\r\n                <div className={filters.price_min === 100 && filters.price_max === 200 ? 'ui-btn ui-btn-active':'ui-btn'} onClick={() => set_price_limit(100, 200)}>\r\n                    <span>$100 to $200</span>\r\n                </div>\r\n                <div className={filters.price_min === 200 && filters.price_max === 0 ? 'ui-btn ui-btn-active':'ui-btn'}  onClick={() => set_price_limit(200)}>\r\n                    <span>$200 & above</span>\r\n                </div>\r\n                <div className='price-ui'>\r\n                    <input type='text' placeholder='Min' value={filters.dummy_min} onChange={(e) => setMin(e.target.value)} className='input-min-price'/>\r\n                    <input type='text' placeholder='Max' value={filters.dummy_max} onChange={(e) => setMax(e.target.value)} className='input-max-price'/>\r\n                    <button type='button' onClick={() => set_price_limit(filters.dummy_min, filters.dummy_max)}>Go</button>\r\n                </div>\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Condition</h4>\r\n                {\r\n                    (filters.is_new || filters.is_used) && \r\n                    <div>\r\n                        <div className=\"ui-btn\" onClick={()=>setUsedCondition(false, false)}><img alt='' src='./images/left.png' height='14' width='14' /><span>Clear</span></div>\r\n                    </div>\r\n                }\r\n                <div className={filters.is_new ? 'ui-btn ui-btn-active':'ui-btn'} onClick={() => setUsedCondition(false, true)}>\r\n                    <span>New</span>\r\n                </div>\r\n                <div className={filters.is_used ? 'ui-btn ui-btn-active':'ui-btn'} onClick={() => setUsedCondition(true, false)}>\r\n                    <span>Used</span>\r\n                </div>\r\n            </div>\r\n            <div className='side-section'>\r\n                <h4>Availability</h4>\r\n                <input name='stock' type='checkbox' checked={filters.show_out_stock} onChange={handleShowOutstockChange}/>\r\n                <label htmlFor=\"stock\" className={filters.show_out_stock ? 'ui-btn-active' :''} onClick={handleShowOutstockChange}>Include Out of Stock</label>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default observer(SideFilters);","import React from 'react';\r\nimport './storeContent.scss';\r\nimport Product from './product/product';\r\nimport SideFilters from './sidefilters/sidefilters';\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nconst StoreContent = ({ state, filters, setFilters }) => {\r\n    /* ----- Navigation ------ */\r\n    const goToPrev = () => {\r\n        if(filters.page === 1) return;\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            page: filters.page - 1,\r\n        }));\r\n    }\r\n    const goToNext = () => {\r\n        if(filters.page === state.numOfPages) return;\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            page: filters.page + 1,\r\n        }));\r\n    }\r\n    const goToPage = (page) => {\r\n        if(page > state.numOfPages || page < 1 ) return;\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            page: page,\r\n        }));\r\n        // slide screen up\r\n        // add location query parameter\r\n    }\r\n    /* ----- UI Function ----- */\r\n    const handleSortChange = (e) => {\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            sort: e.target.value,\r\n        }));\r\n    }\r\n    /* ----- Render ------ */\r\n    const render_products = () => {\r\n        return state.products.map( (product, i) => {\r\n            return(\r\n                <Product key={i} state={state} product={product} />\r\n            )\r\n        });\r\n    }\r\n    const render_pagination = () => {\r\n        let page_btns = []\r\n        let end = filters.page + 1;\r\n        let start = filters.page - 1;\r\n        \r\n        page_btns.push(\r\n            <li key='1' className={filters.page === 1 ? 'pageNum pageNum-disable' :'pageNum'} onClick={()=> goToPage(1)}>\r\n                <span>1</span>\r\n            </li>\r\n        );\r\n        if (start < 2) start = 2;\r\n\r\n        if(end > state.numOfPages - 1) end = state.numOfPages - 1;\r\n        if(filters.page === 1 && state.numOfPages > 2) end = 3;\r\n        else if(filters.page > 3) {\r\n            page_btns.push(\r\n                <li key='0' className='pageNum pageNum-disable'>\r\n                    <span>...</span>\r\n                </li>\r\n            );\r\n        }\r\n        for(let i=start; i <= end; i++) {\r\n            page_btns.push(\r\n                <li key={i} className='pageNum' onClick={()=> goToPage(i)}>\r\n                    <span>{i}</span>\r\n                </li>\r\n            ); \r\n        }\r\n        if(end < state.numOfPages - 1) {\r\n            page_btns.push(\r\n                <li key={end+1} className='pageNum pageNum-disable'>\r\n                    <span>...</span>\r\n                </li>\r\n            );\r\n            page_btns.push(\r\n                <li key={end+2} className='pageNum' onClick={()=> goToPage(state.numOfPages)}>\r\n                    <span>{state.numOfPages}</span>\r\n                </li>\r\n            );\r\n        } else if(state.numOfPages > 1) {\r\n            page_btns.push(\r\n                <li key={end+1} className={filters.page === state.numOfPages ? 'pageNum pageNum-disable' :'pageNum'} onClick={()=> goToPage(state.numOfPages)}>\r\n                    <span>{state.numOfPages}</span>\r\n                </li>\r\n            );\r\n        }\r\n        return(page_btns);\r\n    }\r\n    \r\n\r\n    return(\r\n        <div className=\"store-content\">\r\n            <div className='sort-bar'>\r\n                <div className='result-txt'>\r\n\r\n                </div>\r\n                <div className='sort-select'>\r\n                    <select value={filters.sort} onChange={handleSortChange}>\r\n                        <option value='0'>Featured</option>\r\n                        <option value='1'>Price: Low to High</option>\r\n                        <option value='2'>Price: High to Low</option>\r\n                        <option value='3'>Avg. Customer Review</option>\r\n                        <option value='4'>New Arrivals</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className='content'>\r\n                <SideFilters state={state} filters={filters} setFilters={setFilters} />\r\n                <div className='store-products'>\r\n                    <div className='products-row'>\r\n                    <span className='content-txt'>Price and other details may vary based on product size and color.</span>\r\n                    </div>\r\n                    {state.products.length ?\r\n                        <div className='products-grid'>\r\n                            {render_products()}\r\n                        </div>\r\n                        :\r\n                        <div className='no-products'><span>No product found.</span></div>\r\n                    }\r\n                    <div className=\"pagination\">\r\n                        <ul>\r\n                            <li key='prev-btn' className={filters.page === 1 ?  'pageNum pageNum-disable' : 'pageNum'} onClick={filters.page !== 1 && state.numOfPages > 1 ? goToPrev : null}><span>Previous</span></li>\r\n                            {render_pagination()}\r\n                            <li key='next-btn' className={state.numOfPages === 1 || filters.page > state.numOfPages - 1 ? 'pageNum pageNum-disable' : 'pageNum'} onClick={state.numOfPages !== 1 || filters.page < state.numOfPages ? goToNext : null}><span>Next</span></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default observer(StoreContent)","import React, {  useEffect } from 'react';\r\nimport NavBar from '../../components/navbar/navbar';\r\nimport StoreContent from '../../components/storeContent/storeContent';\r\nimport './home.scss';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst HomePage = ({store, state, setState, filters, setFilters}) => {\r\n    /* ----- Navigation ------ */\r\n    const location = useLocation();\r\n    /* ----- Render ------ */\r\n    const updateProducts = () => {\r\n        // update preview products\r\n        const products = store.productsStore.getPreviewProducts(filters, state.maxNumOfItems);\r\n        const numOfPages = Math.ceil(store.productsStore.preview_products.length / state.maxNumOfItems);\r\n        // extract departments and sub departments from preview products data\r\n        const departments = store.productsStore.getDepartments();\r\n        const brands = store.productsStore.getBrands();\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            products: products,\r\n            numOfPages: numOfPages,\r\n            categories: departments,\r\n            brands: brands,\r\n        }));\r\n    }\r\n\r\n    useEffect(() => {\r\n        // on page load \r\n        // set filters parameters from link\r\n        let search = filters.search_value;\r\n        if(location.pathname === '/search')  {\r\n            location.search.substring(1).split('&').forEach((q,i) => {\r\n                const qdata = q.split('=');\r\n                console.log(qdata);\r\n                if(qdata[0] === 'query') {\r\n                    // set search value\r\n                    search = qdata[1];\r\n                }\r\n                \r\n            });\r\n        }\r\n        // update filters\r\n        setFilters(prevFilter => ({\r\n            ...prevFilter,\r\n            search_value: search,\r\n            dummy_search: search,\r\n        }));\r\n        // update preview products\r\n        updateProducts();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n    \r\n    useEffect(() => {\r\n        // on filtars change \r\n        // update preview products\r\n        updateProducts();\r\n        window.scrollTo(0, 0);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [filters]);\r\n\r\n    return(\r\n        <div className='home'>\r\n            <NavBar state={state} filters={filters} setFilters={setFilters}/>\r\n            <StoreContent state={state} filters={filters} setFilters={setFilters}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default observer(HomePage);","var aes256 = require(\"aes256\");\r\n\r\n// secret key used for encrypting and decrypting\r\nvar secret_key = \"uI2ooxtwHeIqwrbyj98fx9SWVGbpQohO\";\r\n\r\nexport const to_Encrypt = (text) => {\r\n    // returns the encrypted text\r\n    var encrypted = aes256.encrypt(secret_key, text);\r\n    return encrypted;\r\n};\r\n\r\nexport const to_Decrypt = (cipher) => {\r\n    // decryped message is returned\r\n    var decrypted = aes256.decrypt(secret_key, cipher);\r\n    return decrypted;\r\n};","export const validateEmail = (email) => {\r\n    // eslint-disable-next-line\r\n    return email.match(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n}\r\n\r\nexport const calc_rank = (reviews) => {\r\n    let count_1 = 0,\r\n    count_2 = 0,\r\n    count_3 = 0,\r\n    count_4 = 0,\r\n    count_5 = 0;\r\n    reviews.forEach( (review, i) => {\r\n        if(review.rank === 1) count_1++;\r\n        else if(review.rank === 2) count_2++;\r\n        else if(review.rank === 3) count_3++;\r\n        else if(review.rank === 4) count_4++;\r\n        else if(review.rank === 5) count_5++;\r\n\r\n    });\r\n    const total_count = count_1 + count_2 + count_3 + count_4 + count_5\r\n    const total_sum = 1 * count_1 + 2 * count_2 + 3 * count_3 + 4 * count_4 + 5 * count_5;\r\n    return total_sum / total_count;\r\n}","import React, { useState } from 'react';\r\nimport './signin.scss';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { to_Encrypt } from \"../../aes.js\";\r\nimport { validateEmail } from '../../utils';\r\n\r\nconst SigninPage = ({store, state, setState}) => {\r\n    const MIN_CHARACTERS = 6;\r\n    const MAX_CHARACTERS = 60;\r\n    /* ----- State ------ */\r\n    const [data, setData] = useState({\r\n        btnTxt: 'Continue',\r\n        email:'',\r\n        psw:'',\r\n        error:-1,\r\n        msg:'',\r\n    });\r\n    /* ----- Navigation ------ */\r\n    let history = useHistory();\r\n  \r\n    /* ----- UI Functions ------ */\r\n    const logError = (code, msg) => {\r\n        setData(prevState => ({\r\n            ...prevState,\r\n            error: code,\r\n            msg: msg,\r\n        }));\r\n    }\r\n\r\n    const handleEmailChange = (e) => {\r\n        setData(prevState => ({\r\n            ...prevState,\r\n            email: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handlePswChange = (e) => {\r\n        setData(prevState => ({\r\n            ...prevState,\r\n            psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const goToNextStep = () => {\r\n        // validate email\r\n        if(validateEmail(data.email) === null) {\r\n            logError(0, 'Email address not valid')\r\n            return;\r\n        }\r\n        // check if user exists\r\n        if(!store.usersStore.isEmailExists(data.email)) {\r\n            logError(0, 'Email address not exists')\r\n            return;\r\n        }\r\n        // go to password check\r\n        setData(prevState => ({\r\n            ...prevState,\r\n            btnTxt: 'Sign-In',\r\n        }));\r\n    }\r\n    const loginUser = () => {\r\n        if(data.psw.length < MIN_CHARACTERS || data.psw.length >= MAX_CHARACTERS) {\r\n            logError(1, 'Password not valid')\r\n            return;\r\n        }\r\n        const auth = store.usersStore.authUser(data.email, to_Encrypt(data.psw));\r\n        if(auth) {\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                user: auth,\r\n            }));\r\n            history.push('/');\r\n        }\r\n        else {\r\n            logError(1, 'Password not valid');\r\n        }\r\n    }\r\n\r\n    /* ----- Render ------ */\r\n    return(\r\n        <div className='signin-page'>\r\n            <div className='main-logo' onClick={() => history.push('/')}>\r\n                <span> Logo </span>\r\n            </div>\r\n            <div className='sign-info'>\r\n                <h1>Sign-In</h1>\r\n                <label htmlFor='email' > Email Address </label>\r\n                <input type='email' name='email' value={data.email} onChange={handleEmailChange} disabled={data.btnTxt !== 'Continue' ? 'disabled' : ''}/>\r\n                {data.error === 0 && \r\n                    <span className='error'>! {data.msg}</span>\r\n                }\r\n                {(()=> {\r\n                    if(data.btnTxt !== 'Continue' ){\r\n                        return(\r\n                        <div>\r\n                            <label htmlFor='psw' > Password </label>\r\n                            <input type='password' name='psw' value={data.psw} onChange={handlePswChange}/>\r\n                            {data.error === 1 && <span className='error'>! {data.msg}</span>}\r\n                        </div>\r\n                        )\r\n                }})()\r\n                }\r\n                <button type='button' onClick={data.btnTxt === 'Continue' ? goToNextStep: loginUser}> {data.btnTxt} </button>\r\n                <p>By continuing, you agree to company's <span className='link'>Conditions of Use</span> and <span className='link'>Privacy Notice.</span> </p>\r\n                <div className='forgot'>\r\n                    <span className='link'>Forgot your password?</span>\r\n                </div>\r\n            </div>\r\n            <div className='register'>\r\n                <button type='button' onClick={() => history.push('/register')}> Create new account </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SigninPage;","import React, { useState } from 'react';\r\nimport './register.scss';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { to_Encrypt } from \"../../aes.js\";\r\nimport { validateEmail } from '../../utils';\r\n\r\nconst RegisterPage = ({store}) => {\r\n    const MIN_LENGTH = 6;\r\n    const MAX_CHARACTERS = 60;\r\n    /* ----- State ------ */\r\n    const [state, setState] = useState({\r\n        username: '',\r\n        email:'',\r\n        psw:'',\r\n        re_psw:'',\r\n        error:-1,\r\n        msg:'',\r\n    });\r\n    /* ----- Navigation ------ */\r\n    let history = useHistory();\r\n    /* ----- UI Functions ------ */\r\n    const logError = (code, msg) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            error: code,\r\n            msg: msg,\r\n        }));\r\n    }\r\n    const handleUsernameChange = (e) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            username: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handleEmailChange = (e) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            email: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handlePswChange = (e) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handleRePswChange = (e) => {\r\n        setState(prevState => ({\r\n            ...prevState,\r\n            re_psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const registerUser = () => {\r\n        if(state.username === '' ) {\r\n            logError(0, \"Username can't be empty\");\r\n            return;\r\n        } else if(state.username.length >= MAX_CHARACTERS)  {\r\n            logError(0, \"Username too long\");\r\n            return;\r\n        }\r\n        if(!validateEmail(state.email)) {\r\n            logError(1, 'Email address not valid');\r\n            return;\r\n        }\r\n        if(state.psw.length < MIN_LENGTH) {\r\n            logError(2, 'Must contain at least 6 characters');\r\n            return;\r\n        }\r\n        else if(state.psw.length >= MAX_CHARACTERS) {\r\n            logError(2, 'Password too long');\r\n            return;\r\n        }\r\n        if(state.psw !== state.re_psw) {\r\n            logError(3, 'Passwords mismatch');\r\n            return;\r\n        }\r\n        \r\n        const user = store.usersStore.createUser({name: state.username, email:state.email, psw_hash:to_Encrypt(state.psw), re_psw_hash:to_Encrypt(state.re_psw)});\r\n        if(user === 0) {\r\n            // user already registered\r\n            logError(0, \"Name can't be empty\");\r\n        }\r\n        else if(user === 1) {\r\n            // user already registered\r\n            logError(1, 'User already registered');\r\n        }\r\n        else if(user === 3) {\r\n            // re-psw not match\r\n            logError(3, 'Passwords mismatch');\r\n        }\r\n        else {\r\n            // user created go to sign in\r\n            history.push('/signin');\r\n        }\r\n        \r\n    }\r\n    /* ----- Render ------ */\r\n    return(\r\n        <div className='register-page'>\r\n            <div className='main-logo' onClick={() => history.push('/')}>\r\n                <span> Logo </span>\r\n            </div>\r\n            <div className='register-info'>\r\n                <h1>Create Account</h1>\r\n                <label htmlFor='name' > Your name </label>\r\n                <input type='text' name='name' value={state.username} onChange={handleUsernameChange}/>\r\n                {state.error === 0 && \r\n                    <span className='error'>! {state.msg}</span>\r\n                }\r\n                <label htmlFor='email' > Email Address </label>\r\n                <input type='email' name='email' value={state.email} onChange={handleEmailChange}/>\r\n                {state.error === 1 && \r\n                    <span className='error'>! {state.msg}</span>\r\n                }\r\n                <label htmlFor='psw' > Password </label>\r\n                <input type='password' placeholder='At least 6 characters' name='psw' value={state.psw} onChange={handlePswChange}/>\r\n                {state.error === 2 && \r\n                    <span className='error'>! {state.msg}</span>\r\n                }\r\n                <label htmlFor='re-psw' > Re-enter password </label>\r\n                <input type='password'  name='re-psw' value={state.re_psw} onChange={handleRePswChange}/>\r\n                {state.error === 3 && \r\n                    <span className='error'>! {state.msg}</span>\r\n                }\r\n                <button type='button' onClick={registerUser}> Create your account </button>\r\n                <p className='mb-1'>By creating an account, you agree to company's <span className='link'>Conditions of Use</span> and <span className='link'>Privacy Notice.</span> </p>\r\n                <p>Already have an account? <span className='link' onClick={() => history.push('/signin')}>Sign-In</span></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default RegisterPage;","import React, { useState, useEffect } from 'react';\r\nimport NavBar from '../../components/navbar/navbar';\r\nimport './profile.scss';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { to_Encrypt } from '../../aes';\r\nimport { validateEmail } from '../../utils';\r\n\r\nconst ProfilePage = ({store, state, setState, filters, setFilters}) => {\r\n    const MIN_CHARACTERS = 6;\r\n    const MAX_CHARACTERS = 60;\r\n    /* ----- State ------ */\r\n    const [data, setData] = useState({\r\n        name: '',\r\n        email:'',\r\n        old_psw:'',\r\n        psw: '',\r\n        re_psw: '',\r\n        msg:'',\r\n        msgStyle: 'error',\r\n    });\r\n    /* ----- Navigation ----- */\r\n    let history = useHistory();\r\n    /* ----- UI Functions ------ */\r\n    const handleNameChange = (e) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            name: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handleEmailChange = (e) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            email: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handleOldPswChange = (e) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            old_psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handlePswChange = (e) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const handleRePswChange = (e) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            re_psw: e.target.value.trim(),\r\n        }));\r\n    }\r\n    const changeName = () => {\r\n        if(data.name.length >= MAX_CHARACTERS) {\r\n            logMsg('Name too long', 'error');\r\n            return;\r\n        }\r\n        else if(data.name === '') {\r\n            logMsg(\"Name can't be empty\", 'error');\r\n            return;\r\n        }\r\n        const res = store.usersStore.updateName(state.user.id, data.name);\r\n        if(res) {\r\n            logMsg('Name changed', 'success');\r\n        } else {\r\n            logMsg('Error', 'error');\r\n        }\r\n    }\r\n    const changeEmail = () => {\r\n        if(!validateEmail(data.email)) {\r\n            logMsg('Email not valid', 'error');\r\n            return;\r\n        }\r\n        const res = store.usersStore.updateEmail(state.user.id, data.email);\r\n        if(res) {\r\n            logMsg('Email changed', 'success');\r\n        } else {\r\n            logMsg('Error', 'error');\r\n        }\r\n    }\r\n    const changePsw = () => {\r\n        if(data.old_psw.length >= MAX_CHARACTERS) {\r\n            logMsg('Old password too long', 'error');\r\n            return;\r\n        }\r\n        if(data.old_psw.length < MIN_CHARACTERS) {\r\n            logMsg('Old assword too short', 'error');\r\n            return;\r\n        }\r\n        if(data.psw.length >= MAX_CHARACTERS) {\r\n            logMsg('New password too long', 'error');\r\n            return;\r\n        }\r\n        if(data.psw.length < MIN_CHARACTERS) {\r\n            logMsg('New password too short', 'error');\r\n            return;\r\n        }\r\n        if(data.psw !== data.re_psw) {\r\n            logMsg('Password mismatch', 'error');\r\n            return;\r\n        }\r\n        const res = store.usersStore.updatePsw(state.user.id, to_Encrypt(data.old_psw),to_Encrypt(data.psw),to_Encrypt(data.re_psw));\r\n        if(res) {\r\n            logMsg('Password changed', 'success');\r\n        } else {\r\n            logMsg('Error', 'error');\r\n        }\r\n    }\r\n    const logMsg = (msg, style) => {\r\n        setData(prevData => ({\r\n            ...prevData,\r\n            msg: msg,\r\n            msgStyle: style,\r\n        }));\r\n        setTimeout(() => {\r\n            setData(prevData => ({\r\n                ...prevData,\r\n                msg: '',\r\n            }));\r\n          }, 3000);\r\n    }\r\n    /* ----- Reder ------ */\r\n    useEffect(() => {\r\n        // on page load\r\n        // check if user connect\r\n        console.log(state);\r\n        if(state.user === undefined) {\r\n           history.push('/');\r\n        } else {\r\n            setData(prevData => ({\r\n                ...prevData,\r\n                name: state.user.name,\r\n                email: state.user.email,\r\n            }));\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    },[]);\r\n\r\n    return(\r\n        <div className='profile-page'>\r\n            <NavBar state={state} filters={filters} setFilters={setFilters}/>\r\n            <div className='profile'>\r\n                <h1>Edit your profile</h1>\r\n                <label htmlFor='username'>Your public name</label>\r\n                <div className='profile-row'>\r\n                    <input type='text' name='username' value={data.name} onChange={handleNameChange}/>\r\n                    <button type='button' onClick={changeName}> Change </button>\r\n                </div>\r\n                <label htmlFor='email'>Your email address</label>\r\n                <div className='profile-row'>\r\n                    <input type='email' name='email' value={data.email} onChange={handleEmailChange}/>\r\n                    <button type='button' onClick={changeEmail}> Change </button>\r\n                </div>\r\n                <h2>Change your password</h2>\r\n                <div className='profile-psw'>\r\n                    <label htmlFor='old_psw'>Enter your old password</label>\r\n                    <input type='password' name='old_psw' value={data.old_psw} onChange={handleOldPswChange}/>\r\n                    <label htmlFor='psw'>Enter your new password</label>\r\n                    <input type='password' placeholder='At least 6 characters' name='psw' value={data.psw} onChange={handlePswChange}/>\r\n                    <label htmlFor='re_psw'>Re-enter your password</label>\r\n                    <input type='password' name='re_psw' value={data.re_psw} onChange={handleRePswChange}/>\r\n                    {data.msg !== '' && <p className={data.msgStyle}>{data.msg}</p>}\r\n                    <button type='button' className='changwPswBtn' onClick={changePsw} >Change Password</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProfilePage;","import { action, computed, makeAutoObservable, observable } from \"mobx\"\r\nimport { to_Decrypt } from \"../aes.js\";\r\n\r\nclass RootStore {\r\n    constructor() {\r\n        this.usersStore = new UsersStore(this)\r\n        this.productsStore = new ProductsStore(this)\r\n    }\r\n}\r\n\r\nclass UsersStore {\r\n    users = []\r\n    constructor(rootStore) {\r\n        this.rootStore = rootStore\r\n        makeAutoObservable(this, {  \r\n            authUser:action,\r\n            createUser:action,\r\n            isEmailExists:action,\r\n            getUser:action,\r\n            updateName:action,\r\n            updateEmail:action,\r\n            updatePsw:action,\r\n        });\r\n    }\r\n\r\n    updateName(id, name) {\r\n        const userIndexAtId = this.users.findIndex((user) => user.id === id);\r\n\t    if (userIndexAtId > -1 ) {\r\n\t        this.users[userIndexAtId].name = name;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    updateEmail(id, email) {\r\n        const userIndexAtId = this.users.findIndex((user) => user.id === id);\r\n\t    if (userIndexAtId > -1 ) {\r\n\t        this.users[userIndexAtId].email = email;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    updatePsw(id, old_psw, new_psw, re_psw) {\r\n        const userIndexAtId = this.users.findIndex((user) => user.id === id);\r\n\t    if (\r\n            userIndexAtId > -1 &&\r\n            to_Decrypt(this.users[userIndexAtId].psw_hash) === to_Decrypt(old_psw) &&\r\n            to_Decrypt(new_psw) === to_Decrypt(re_psw)\r\n        ) {\r\n            this.users[userIndexAtId].psw_hash = new_psw;\r\n            this.users[userIndexAtId].re_psw_hash = re_psw;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    authUser(email, psw_hash) {\r\n        const user_data = this.users.filter((u,i) => u.email === email);\r\n        if(user_data.length && to_Decrypt(user_data[0].psw_hash) === to_Decrypt(psw_hash)) {\r\n            return user_data[0];\r\n        }\r\n        return false;\r\n    }\r\n\r\n    createUser(user = {\r\n        id:0,\r\n        name:'',\r\n        email:'',\r\n        psw_hash:'',\r\n        re_psw_hash:'',\r\n        cart:[]\r\n    }) {\r\n        // check name\r\n        if(user.name === '') return 0;\r\n        // check if email exists\r\n        if(this.isEmailExists(user.email)) return 1;\r\n        // check psw & re_psw\r\n        if(to_Decrypt(user.psw_hash) !== to_Decrypt(user.re_psw_hash)) return 2;\r\n        // add user\r\n        user.id = this.users.length;\r\n        this.users.push(user);\r\n        return user;\r\n    }\r\n\r\n    getUser(uid) {\r\n        const user = this.users.filter((u,i) => u.id === uid)[0];\r\n        if(user === undefined) return;\r\n        return {\r\n            uid:user.id,\r\n            name:user.name,\r\n            email:user.email,\r\n            cart:user.cart,\r\n        }\r\n    }\r\n\r\n    isEmailExists(email) {\r\n        // check if email exists\r\n        return this.users.some((u) => u.email === email);\r\n    }\r\n}\r\n\r\nclass ProductsStore {\r\n    products = []\r\n    preview_products = []\r\n    departments = []\r\n    brands = []\r\n    rootStore\r\n\r\n    constructor(rootStore) {\r\n        makeAutoObservable(this, { \r\n            rootStore: false,\r\n            preview_products: observable,\r\n            departments:observable,\r\n            brands:observable,\r\n            totalProducts: computed,\r\n            storeDetails: computed,\r\n            createProduct: action,\r\n            updateProduct: action,\r\n            deleteProduct: action,\r\n            logStoreDetails:action,\r\n            getPreviewProducts:action,\r\n            getDepartments:action,\r\n            getBrands:action,\r\n            searchProduct:action,\r\n        })\r\n        \r\n        this.rootStore = rootStore;\r\n        //autorun(this.logStoreDetails);\r\n    }\r\n\r\n    // total number of products\r\n    get totalProducts() {\r\n\t    return this.products.length;\r\n    }\r\n\r\n    // create product\r\n    createProduct(product = { \r\n        id: 0, \r\n        name:\"\", \r\n        brand:\"\",\r\n        price: \"\", \r\n        free_shipping:false, \r\n        climate_friendly: false, \r\n        reviews:[], \r\n        categories:[], \r\n        img:\"\", \r\n        used: false, \r\n        stock: 0 \r\n    }) {\r\n\t    this.products.push(product);\r\n        // check for new department & sub categories\r\n        const new_departments = product.categories.filter((category) => {\r\n            const department_exists = this.departments.some((d) => {\r\n                if(d.name === category.name) {\r\n                    // check sub categories\r\n                    let new_sub_categories = category.sub_categories.filter(sub => !d.sub_categories.some(sub2 => sub === sub2));\r\n                    // add new sub categories\r\n                    d.sub_categories = [...d.sub_categories,...new_sub_categories]\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if(department_exists) {\r\n                //categories = [...categories,...current_categories];\r\n                return false;\r\n            }\r\n            return true;\r\n        } )\r\n        // add new departments\r\n        this.departments = [...this.departments, ...new_departments];\r\n            \r\n        // check for new brands \r\n        if (this.brands.indexOf(product.brand) === -1) {\r\n            this.brands.push(product.brand);\r\n        }\r\n\r\n        return product;\r\n    }\r\n    \r\n    // get products\r\n    getPreviewProducts(filters, maxNumOfItems = 10) {\r\n        const currentIndex = (filters.page - 1) * maxNumOfItems;\r\n        \r\n        // interate products until count equals to maxNumOfItems\r\n        // interate some of products, until count equals to maxNumOfItems, maybe more efficent\r\n        /*\r\n        let count = 0;\r\n        this.preview_products = [];\r\n        while(count <= maxNumOfItems) {\r\n            if(this.products.length - 1 < currentIndex) break;\r\n            const product = this.products[currentIndex];\r\n            if(this.productFiltersCheck(product, filters)) {\r\n                // product meets filters demands\r\n                this.preview_products.push(product);\r\n                count++;\r\n            }\r\n            currentIndex++;\r\n        }\r\n        */\r\n        // iterate all products\r\n        let preview = [];\r\n        if(filters.search_value !== '') {\r\n            preview = this.searchProduct(filters.search_value).filter((p) => this.productFiltersCheck(p, filters));\r\n        } else {\r\n            preview = this.products.filter((p) => this.productFiltersCheck(p, filters));\r\n        }\r\n        this.preview_products = this.sortProducts(filters.sort, preview);\r\n        \r\n        let endIndex = currentIndex + maxNumOfItems;\r\n        if(endIndex > this.preview_products - 1) endIndex = this.preview_products.length - 1;\r\n        return this.preview_products.slice(currentIndex, endIndex);\r\n    }\r\n    // product filters check\r\n    productFiltersCheck(product, { \r\n        free_shipping_check,\r\n        climate_check,\r\n        price_min,\r\n        price_max,\r\n        is_used,\r\n        is_new,\r\n        show_out_stock,\r\n        rank_limit,\r\n        category,\r\n        subCategory,\r\n        brands,\r\n    }) {\r\n        // rank filter\r\n        if(product.rank < rank_limit) return false;\r\n        // shipping filter\r\n        if(free_shipping_check && !product.free_shipping) return false;\r\n        // climate filter\r\n        if(climate_check && !product.climate_friendly) return false;\r\n        // used condition filter\r\n        if(is_used && !product.used) return false;\r\n        // new condition filter\r\n        if(is_new && product.used) return false;\r\n        // out of stock filter\r\n        if(!show_out_stock && product.stock === 0) return false;\r\n        // filter brands\r\n        if(brands.length && brands.indexOf(product.brand) === -1) return false;\r\n        // filter min price\r\n        if(price_min > 0 && product.price < price_min) return false;\r\n        // filter max price\r\n        if(price_max > 0 && product.price > price_max) return false;\r\n        // filter category & sub category\r\n        if(subCategory !== '' && !product.categories.some(cat => cat.name === category && cat.sub_categories.indexOf(subCategory) > -1)) {\r\n            return false;\r\n        } else if(category !== '' && !product.categories.some(cat => cat.name === category)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    // get departments\r\n    getDepartments() {\r\n        return this.departments;\r\n    }\r\n    \r\n    // get preview brands\r\n    getBrands() {\r\n        return this.brands;\r\n    }\r\n    // sort preview\r\n    sortProducts(sort, products) {\r\n        // 0 - featured, 1 - Low to High, 2 - High to Low, 3 - Avg, 4 - new\r\n        if(sort === '1') {\r\n            products.sort((a, b) => {\r\n                return a.price - b.price;\r\n            });\r\n        } else if(sort === '2') {\r\n            products.sort((a, b) => {\r\n                return b.price - a.price;\r\n            });\r\n        } else if(sort === '3') {\r\n            products.sort((a, b) => {\r\n                return b.reviews.length - a.reviews.length;\r\n            });\r\n        } else if(sort === '4') {\r\n            products.sort((a, b) => {\r\n                return new Date(b.date) - new Date(a.date);\r\n            });\r\n        } else {\r\n            products.sort((a, b) => {\r\n                return a.id - b.id;\r\n            });\r\n        }\r\n        return products;\r\n    }\r\n    // search for product\r\n    searchProduct(value) {\r\n        // check if value in name\r\n        const search_products = this.products.filter((product, i) => {\r\n            // name check\r\n            if(product.name.toLowerCase().indexOf(value.trim().toLowerCase()) > -1){\r\n                return true;\r\n            }\r\n            // category & sub category check\r\n            const category_exists = !product.categories.some((cat) => {\r\n                if(cat.name.toLowerCase().indexOf(value.trim().toLowerCase()) > -1) {\r\n                    const exists_in_subs = !cat.sub_categories.some((sub) => sub.toLowerCase().indexOf(value.trim().toLowerCase()) > -1);\r\n                    if(exists_in_subs) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                } \r\n                return false;\r\n            });\r\n            if(category_exists) return false;\r\n            // brand check\r\n            if(product.brand.toLowerCase().indexOf(value.trim().toLowerCase()) === -1) return false;\r\n            return true;\r\n        });\r\n\r\n        return search_products;\r\n    }\r\n    // update product\r\n    updateProduct(productId, update) {\r\n        const productIndexAtId = this.products.findIndex((product) => product.id === productId);\r\n\t    if (productIndexAtId > -1 && update) {\r\n\t        this.products[productIndexAtId] = update;\r\n        }\r\n    }\r\n    // delete product by id\r\n    deleteProduct(productId) {\r\n        const productIndexAtId = this.products.findIndex((product) => product.id === productId);\r\n        if (productIndexAtId > -1) {\r\n            this.products.splice(productIndexAtId, 1)\r\n        }\r\n    }\r\n    // get store details\r\n    get storeDetails () {\r\n        return `Store contain ${this.totalProducts()} products.`\r\n    }\r\n    // Log the store details to the console\r\n    logStoreDetails() {\r\n        console.log(this.storeDetails);\r\n    }\r\n}\r\n\r\nexport default RootStore","import HomePage from './pages/home/home';\nimport SigninPage from './pages/signin/signin';\nimport RegisterPage from './pages/register/register';\nimport ProfilePage from './pages/profile/profile';\nimport './App.css';\nimport {  HashRouter  as Router, Switch, Route } from \"react-router-dom\";\nimport RootStore from './store/rootStore';\nimport React, { useState, useEffect } from 'react';\nimport { products } from './data.json'\nimport { calc_rank } from './utils';\n\n// mobx store object\nconst store = new RootStore();\n\nconst App = () => {\n  /* ----- State ------ */\n  const [state, setState] = useState({\n    products: [],\n    location:'Israel',\n    currency: '$',\n    categories:[],\n    brands:[],\n    maxNumOfItems: 20,\n    numOfPages: 0,\n    user: undefined,\n  });\n  const [filters, setFilters] = useState({\n      free_shipping_check: false,\n      climate_check: false,\n      price_min:-1,\n      price_max:-1,\n      dummy_min:0,\n      dummy_max:0,\n      is_used:false,\n      is_new:false,\n      show_out_stock:false,\n      rank_limit: 0,\n      category:'',\n      subCategory:'',\n      brands:[],\n      page: 1,\n      sort:0,\n      dummy_search:'',\n      search_value: '',\n  });\n  /* ----- Load products to store from json file ------ */\n  const load_products = () => {\n    products.forEach((product, i) => {\n        product.rank = calc_rank(product.reviews);\n        store.productsStore.createProduct(product);\n    });\n  }\n  /* ----- Render ------ */\n  useEffect(() => {\n    // on app load \n    // insert product to store from json file\n    load_products();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path={['/', '/search']} render={() => <HomePage store={store} state={state} setState={setState} filters={filters} setFilters={setFilters}/>} />\n          <Route path='/signin' render={() => <SigninPage store={store} state={state} setState={setState} />} />\n          <Route path='/register' render={() => <RegisterPage store={store} />} />\n          <Route path='/profile/:uid' render={() => <ProfilePage store={store} state={state} setState={setState} filters={filters} setFilters={setFilters}/>} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}